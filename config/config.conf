# Configuration WebServ - Projet 42
# Fichier de configuration principal

server {
    # Configuration du serveur principal
    listen 8080;
    server_name localhost;
    root ./www;
    index index.html;
    
    # Méthodes autorisées par défaut pour le serveur
    allowed_methods GET POST DELETE;
    
    # Location pour la racine du site (index.html, about.html, dev.html)
    location / {
        root ./www;
        index index.html;
        allowed_methods GET POST DELETE;
        client_max_body_size 1000000;
    }
    
    # Location spécifique pour les requêtes de login (POST)
    location /login {
        root ./www;
        allowed_methods GET POST;
        client_max_body_size 2048;
    }
    
    # Location pour l'upload de fichiers
    location /upload {
        root ./www;
        allowed_methods GET POST;
        client_max_body_size 5000000;
    }
    
    # Location pour le formulaire de contact
    location /contact {
        root ./www;
        allowed_methods GET POST;
        client_max_body_size 10000;
    }
    
    # Location pour les scripts CGI Python
    location /cgi-bin/ {
        root ./www;
        allowed_methods GET POST;
        client_max_body_size 1000000;
    }
}
